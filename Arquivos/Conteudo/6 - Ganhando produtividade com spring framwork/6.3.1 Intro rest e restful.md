# Introdu√ß√£o ao REST e RESTFul

## O que REST ?

API REST (Representational State Transfer) √© um padr√£o de arquitetura para desenvolvimento de APIs (Application Programming Interfaces) que utiliza o protocolo HTTP (Hypertext Transfer Protocol) para comunica√ß√£o entre cliente e servidor.

- Uma API RESTful √© composta por recursos, que s√£o identificados por URLs √∫nicas (endpoints), e podem ser acessados utilizando os m√©todos HTTP padr√£o, como GET, POST, PUT e DELETE, para realizar opera√ß√µes de leitura, cria√ß√£o, atualiza√ß√£o e exclus√£o de dados.
- Al√©m disso, a API REST geralmente utiliza formatos de representa√ß√£o de dados leves, como JSON (JavaScript Object Notation), para facilitar a interoperabilidade entre diferentes sistemas e plataformas.
- Uma API REST bem projetada segue os princ√≠pios da arquitetura REST, incluindo a separa√ß√£o entre cliente e servidor, a utiliza√ß√£o de cache para melhorar a performance, a defini√ß√£o clara dos recursos e suas rela√ß√µes, entre outros

### REST vs RESTFUL

API REST e API RESTful s√£o termos que muitas vezes s√£o usados de forma intercambi√°vel, mas tecnicamente existem algumas diferen√ßas entre eles.

- API REST √© uma API que segue os princ√≠pios da arquitetura REST, como a utiliza√ß√£o de URLs √∫nicas (endpoints) para identificar recursos, o uso de m√©todos HTTP padr√£o para opera√ß√µes em recursos, a utiliza√ß√£o de representa√ß√µes de dados leves e a separa√ß√£o entre cliente e servidor.
- API RESTful, por outro lado, √© uma API que segue completamente os princ√≠pios da arquitetura REST, incluindo a utiliza√ß√£o de hypermedia (links) para permitir a descoberta de recursos relacionados e a transi√ß√£o entre estados da aplica√ß√£o. Essa abordagem pode tornar as APIs mais flex√≠veis e escal√°veis, mas tamb√©m pode ser mais complexa de implementar.

Em resumo, API REST √© uma API que segue os princ√≠pios da arquitetura REST, enquanto API RESTful √© uma API que segue completamente esses princ√≠pios, incluindo a utiliza√ß√£o de hypermedia.

#### Princ√≠pios para aplica√ß√£o RESTFUL

1. Arquitetura Cliente-Servidor: A aplica√ß√£o deve ser dividida em duas partes, cliente e servidor, com responsabilidades claramente separadas.
2. Protocolo HTTP: A comunica√ß√£o entre cliente e servidor deve ser feita por meio do protocolo HTTP, utilizando seus verbos padr√£o (GET, POST, PUT, DELETE, etc.) para opera√ß√µes em recursos.
3. URL √∫nica para cada recurso: Cada recurso na aplica√ß√£o deve ser identificado por uma URL √∫nica, que permite a manipula√ß√£o do recurso por meio dos verbos HTTP.
4. Representa√ß√£o dos dados: Os dados da aplica√ß√£o devem ser representados em um formato universal e leve, como JSON ou XML.
5. Opera√ß√µes sem estado(Stateless) : Cada opera√ß√£o em um recurso deve ser independente das outras opera√ß√µes e n√£o deve depender do estado anterior da aplica√ß√£o.
6. Utiliza√ß√£o de Cache: A aplica√ß√£o deve ser capaz de utilizar a cache do HTTP para melhorar a performance e diminuir a carga no servidor.
7. Interoperabilidade: A aplica√ß√£o deve ser capaz de interagir com outras aplica√ß√µes e sistemas, utilizando padr√µes universais de comunica√ß√£o, como HTTP e JSON.
8. HATEOAS (Hypermedia as the Engine of Application State): O servidor deve enviar links e informa√ß√µes de navega√ß√£o para o cliente, permitindo que ele descubra novos recursos e possa navegar entre eles.
9. O princ√≠pio das camadas (layers) em uma arquitetura RESTful significa que o sistema √© dividido em camadas independentes e que cada camada s√≥ pode se comunicar com a camada imediatamente acima ou abaixo dela. Essa abordagem garante que cada camada tenha responsabilidades claramente definidas e que a complexidade do sistema seja gerenci√°vel.

<br>

## Representa√ß√£o nivel de maturidade de uma aplica√ß√£o rest:

<img src="./img/36.jpg" alt="" width="600">

<br>

<br>

### N√≠vel 0 ‚Üí Aus√™ncia de regras

Esse √© considerado o n√≠vel mais b√°sico e uma API que implementa apenas esse n√≠vel n√£o pode ser considerada REST pois n√£o segue qualquer padr√£o.

| Verbo HTTP | URL | Opera√ß√£o |
| --- | --- | --- |
| Post | /getUsuario | Pesquisar usu√°rio |
| Post | /salvarUsuario | Salvar |
| Post | /AlterarUsuario | Alterar |
| Post | /excluirUsuario | Deletar |

<br>

### N√≠vel 1 ‚Üí Aplica√ß√£o de recursos

Observe que o nome dos recursos foram equalizados e para n√£o gerar ambiguidade √© necess√°rio definir um verbo apropriadamente.

| Verbo HTTP | URL | Opera√ß√£o |
| --- | --- | --- |
| Get | /usuarios/1 | Pesquisar usu√°rio |
| Post | /usuarios | Salvar |
| Put | /usuarios/1 | Alterar |
| Delete | /usuarios/1 | Deletar |

<br>

### N√≠vel 2 ‚Üí Implementa√ß√£o de verbos HTTP

Como a defini√ß√£o dos verbos j√° foi requisitada no N√≠vel 1, o N√≠vel 2 se encarrega de validar a aplicabilidade dos verbos para finalidades espec√≠ficas como observado na figura acima.

>üí° Existe uma discuss√£o quando precisamos retornar dados atrav√©s de par√¢metros via body recebidos pelo m√©todo POST.

| Verbo HTTP | Fun√ß√£o |
| --- | --- |
| Get | Retorna dados |
| Post | Grava dados |
| Put | Altera dados |
| Delete | Remove dados |

<br>

### N√≠vel 3 ‚Üí Hateoas

Hateoas (hypermedia as the engine of application state). Uma API que implementa esse n√≠vel fornece aos seus clientes links que indicar√£o como poder√° ser feita a navega√ß√£o entre seus recursos. Ou seja, quem for consumir a API precisar√° saber a toda principal e a resposta dessa requisi√ß√£o ter√° todas as demais rotas poss√≠veis.

>üí° O n√≠vel 3 √© sem d√∫vidas o menos explorado. Muitas APIs existentes no mercado n√£o implementam esse n√≠vel.

<details>
<summary>C√≥digo exemplo:</summary>

```json
{
  "name": "John Doe",
  "email": "john.doe@example.com",
  "phone": "+1 555-555-5555",
  "_links": {
    "self": {
      "href": "/users/1234"
    },
    "orders": {
      "href": "/users/1234/orders"
    },
    "cart": {
      "href": "/users/1234/cart"
    },
    "address": {
      "href": "/users/1234/address"
    },
    "alterar": {
      "href": "/users/1234",
      "method": "PUT"
    },
    "excluir": {
      "href": "/users/1234",
      "method": "DELETE"
    }
  }
}
```

</details>

<br>

<br>

<br>

[Voltar a Criando API REST documentada com Spring web e Swagger](/Arquivos/Conteudo/6%20-%20Ganhando%20produtividade%20com%20spring%20framwork/6.3%20Criando%20api%20rest%20documentada%20com%20spring%20web%20e%20swagger.md)<br>
[Voltar ao inicio](/README.md)