# Gerenciamento de dependÃªncias 

## Tipos de dependÃªncias do Maven

Existem dois tipos de dependÃªncias no Maven: dependÃªncias diretas e dependÃªncias transitivas.

### DependÃªncias Diretas

As dependÃªncias diretas sÃ£o aquelas que sÃ£o explicitamente declaradas no arquivo POM (Project Object Model) do seu projeto.

<details>
<summary>CÃ³digo exemplo:</summary>

```xml
xmlCopy code
<dependencies>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-core</artifactId>
        <version>5.3.13.RELEASE</version>
    </dependency>
</dependencies>

#Neste exemplo, a dependÃªncia do **spring-core** Ã© declarada diretamente no POM do projeto. O Maven baixarÃ¡ esta dependÃªncia e suas dependÃªncias transitivas (se houverem) e adicionarÃ¡ ao classpath do projeto. 

```

</details>

### DependÃªncias Transitivas

As dependÃªncias transitivas sÃ£o aquelas que sÃ£o necessÃ¡rias para o funcionamento das dependÃªncias diretas do projeto.

<details>
<summary>CÃ³digo exemplo:</summary>

```xml
xmlCopy code
<dependencies>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-web</artifactId>
        <version>5.3.13.RELEASE</version>
    </dependency>
</dependencies>

#Neste exemplo, a dependÃªncia do spring-web Ã© declarada diretamente no POM do projeto. No entanto, esta dependÃªncia tem uma dependÃªncia transitiva com o spring-core, que serÃ¡ automaticamente baixada e adicionada ao classpath do projeto pelo Maven.
```

</details>

<br>

## Transitividade e escopos

### Transitividade
A transitividade Ã© a capacidade das dependÃªncias transitivas serem baixadas e adicionadas automaticamente pelo Maven ao classpath do projeto. Por exemplo, se o **`spring-web`** depende do **`spring-core`**, o Maven irÃ¡ baixar e adicionar ao classpath ambos automaticamente.

<br>

### Escopos
Os escopos no Maven indicam quando e como as dependÃªncias sÃ£o usadas durante o ciclo de vida do projeto. Para especificar o escopo de uma dependÃªncia no Maven, basta adicionar o elemento **`<scope>`** ao bloco de dependÃªncia no arquivo POM do projeto.

#### Existem diferentes escopos disponÃ­veis no Maven, incluindo:
`compile` 
Este Ã© o escopo padrÃ£o do Maven e indica que a dependÃªncia Ã© necessÃ¡ria para compilar e executar o projeto. As dependÃªncias com este escopo sÃ£o incluÃ­das no classpath do projeto e tambÃ©m sÃ£o empacotadas no arquivo JAR ou WAR final.

<details>
<summary>CÃ³digo exemplo:</summary>

```xml
<dependencies>
    <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-lang3</artifactId>
        <version>3.12.0</version>
        <scope>compile</scope>
    </dependency>
</dependencies>
```

</details>

<br>

`provided:`
Este escopo indica que a dependÃªncia Ã© fornecida pelo ambiente em tempo de execuÃ§Ã£o. Por exemplo, o Servlet API em um servidor de aplicativos Java EE. Essas dependÃªncias nÃ£o sÃ£o incluÃ­das no arquivo JAR ou WAR final, mas ainda sÃ£o necessÃ¡rias para compilar e testar o cÃ³digo do projeto.

<details>
<summary>CÃ³digo exemplo:</summary>

```xml
<dependencies>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>javax.servlet-api</artifactId>
        <version>3.1.0</version>
        <scope>provided</scope>
    </dependency>
</dependencies>
```

</details>

<br>

`runtime`

Este escopo indica que a dependÃªncia Ã© necessÃ¡ria apenas em tempo de execuÃ§Ã£o. Essas dependÃªncias nÃ£o sÃ£o necessÃ¡rias para compilar o cÃ³digo, mas sÃ£o necessÃ¡rias para executÃ¡-lo. As dependÃªncias com este escopo nÃ£o sÃ£o empacotadas no arquivo JAR ou WAR final.

<details>
<summary>CÃ³digo exemplo:</summary>

```xml
<dependencies>
    <dependency>
        <groupId>com.oracle.database.jdbc</groupId>
        <artifactId>ojdbc8</artifactId>
        <version>19.3.0.0</version>
        <scope>runtime</scope>
    </dependency>
</dependencies>
```

</details>


<br>

`test`

Este escopo indica que a dependÃªncia Ã© necessÃ¡ria apenas para testes unitÃ¡rios e de integraÃ§Ã£o. Essas dependÃªncias nÃ£o sÃ£o incluÃ­das no arquivo JAR ou WAR final.

<details>
<summary>CÃ³digo exemplo:</summary>

```xml
<dependencies>
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.13.2</version>
        <scope>test</scope>
    </dependency>
</dependencies>
```

</details>


<br>

`system`

Este escopo indica que a dependÃªncia estÃ¡ presente no sistema de arquivos local. Ã‰ necessÃ¡rio fornecer a localizaÃ§Ã£o exata da dependÃªncia usando o elemento **`<systemPath>`** no arquivo POM. Esse escopo nÃ£o Ã© recomendado porque as dependÃªncias do sistema podem variar de uma mÃ¡quina para outra.

<details>
<summary>CÃ³digo exemplo:</summary>

```xml
<dependencies>
    <dependency>
        <groupId>com.example</groupId>
        <artifactId>my-library</artifactId>
        <version>1.0</version>
        <scope>system</scope>
        <systemPath>/path/to/my-library.jar</systemPath>
    </dependency>
</dependencies>
```

</details>


<br>

`import` 

Este escopo Ã© usado apenas em arquivos POM e permite que vocÃª inclua dependÃªncias de outros arquivos POM no projeto. As dependÃªncias importadas sÃ£o incluÃ­das no classpath do projeto e nÃ£o sÃ£o empacotadas no arquivo JAR ou WAR final.

<details>
<summary>CÃ³digo</summary>

```xml
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-framework-bom</artifactId>
            <version>5.3.13.RELEASE</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>
```

</details>


<br>

### Escopo opcional

As bibliotecas opcionais no Maven sÃ£o dependÃªncias que nÃ£o sÃ£o necessÃ¡rias para compilar ou executar o projeto, mas sÃ£o opcionais e podem ser usadas se necessÃ¡rio. Um exemplo de implementaÃ§Ã£o de uma biblioteca opcional no pom.xmlÃ© usando o elemento <optional> dentro da tag <dependency>. 

<details>
<summary>CÃ³digo exemplo</summary>

```xml
<dependencies>
  <dependency>
    <groupId>com.example</groupId>
    <artifactId>my-library</artifactId>
    <version>1.0</version>
    <optional>true</optional>
  </dependency>
</dependencies>
```

> ğŸ’¡OBS: Para incluir essa dependÃªncia opcional manualmente, Ã© possÃ­vel usar o comando: 

```bash
**#**para incluir todas as dependÃªncias opcionais
**mvn install -DincludeOptional=true

#para resolver apenas as dependÃªncias opcionais.**
**mvn dependency:resolve -DincludeOptional=true**
```

</details>

<br>

### Exclusions

O elemento **`exclusions`** Ã© usado no arquivo **`pom.xml`** do Maven para excluir uma ou mais dependÃªncias transitivas de um determinado artefato. Isso Ã© Ãºtil quando uma dependÃªncia transitiva estÃ¡ causando conflitos ou problemas de compatibilidade.

- Por exemplo, imagine que um projeto precisa da dependÃªncia **`my-library`**, que por sua vez depende da biblioteca **`old-library`**. No entanto, o projeto precisa usar uma versÃ£o mais recente da biblioteca **`new-library`**, que Ã© incompatÃ­vel com a **`old-library`**. Nesse caso, Ã© possÃ­vel usar a tag **`exclusions`** para excluir a **`old-library`** da dependÃªncia **`my-library`**.

<details>
<summary>CÃ³digo exemplo de uso do elemento exclusions no pom.xml:</summary>

```xml
<dependencies>
  <dependency>
    <groupId>com.example</groupId>
    <artifactId>my-library</artifactId>
    <version>1.0</version>
    <exclusions>
      <exclusion>
        <groupId>com.example</groupId>
        <artifactId>old-library</artifactId>
      </exclusion>
    </exclusions>
  </dependency>
</dependencies>
```

</details>

<br>

<br>

[Voltar a Gerenciamento de dependÃªncias e build em Java com Maven](/Arquivos/Conteudo/4%20-%20Programa%C3%A7%C3%A3o%20orientada%20a%20objetos/4.5%20Gerenciamento%20de%20dependencias%20e%20build%20em%20java%20com%20maven.md)<br>
[Voltar ao inicio](/README.md)